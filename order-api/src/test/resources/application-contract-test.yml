# ====================================
# Contract Test 프로필
# ====================================
# Stub Runner가 WireMock 서버를 띄우고, FeignClient가 해당 서버로 요청합니다.

spring:
  cloud:
    openfeign:
      client:
        config:
          default:
            connect-timeout: 5000
            read-timeout: 5000
  # JPA/DataSource 비활성화 (Contract Test는 DB 불필요)
  autoconfigure:
    exclude:
      - org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration
      - org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration
      - org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration
      - org.redisson.spring.starter.RedissonAutoConfigurationV2

# Feign Client 설정 (Stub Runner가 제공하는 WireMock 서버 포트 사용)
feign:
  clients:
    product-service:
      url: http://localhost:8083
    store-service:
      url: http://localhost:8084

# Stub Runner 설정
stubrunner:
  ids-to-service-ids:
    product-api: product-service
    store-api: store-service

logging:
  level:
    org.springframework.cloud.contract: DEBUG
    com.groom.order.adapter.outbound.client: DEBUG
