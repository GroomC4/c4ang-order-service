logging:
  level:
    root: INFO
    org.springframework.jdbc: DEBUG
    org.springframework.jdbc.datasource.init: DEBUG
    org.postgresql: DEBUG
    com.groom.ecommerce: DEBUG
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE

google:
  gemini:
    api-key: ""
    model: ""
    max-tokens: 2000

aws:
  s3:
    bucket-name: test-bucket
    region: ap-northeast-2
    access-key: test-access-key
    secret-key: test-secret-key

# Feign Client 설정 (테스트 환경)
# 실제로는 TestProductClient, TestStoreClient가 @Primary로 주입되어
# FeignClient 대신 stub 데이터를 반환합니다.
feign:
  clients:
    product-service:
      url: http://localhost:8083
      connect-timeout: 5000
      read-timeout: 5000
      logger-level: full
    store-service:
      url: http://localhost:8084
      connect-timeout: 5000
      read-timeout: 5000
      logger-level: full
  client:
    config:
      default:
        connectTimeout: 5000
        readTimeout: 5000
        loggerLevel: full

# Kafka 설정 (테스트 환경)
# bootstrap-servers와 schema-registry.url은 Testcontainers에서 동적으로 주입됩니다.
kafka:
  bootstrap-servers: ${testcontainers.kafka.bootstrap-servers:localhost:9092}
  schema-registry:
    url: ${testcontainers.schema-registry.url:http://localhost:8081}
  topics:
    # Producer Topics - Business Events
    order-created: order.created
    order-confirmed: order.confirmed
    order-cancelled: order.cancelled
    order-expiration-notification: order.expiration.notification
    daily-statistics: analytics.daily.statistics
    # Producer Topics - Payment Saga
    order-stock-confirmed: order.stock.confirmed
    # Producer Topics - SAGA Events
    saga-stock-confirmation-failed: saga.stock-confirmation.failed
    saga-order-confirmation-compensate: saga.order-confirmation.compensate
    # Consumer Topics - Business Events
    stock-reserved: stock.reserved
    payment-completed: payment.completed
    payment-failed: payment.failed
    # Consumer Topics - SAGA Events
    saga-stock-reservation-failed: saga.stock-reservation.failed
    saga-payment-initialization-failed: saga.payment-initialization.failed
    saga-payment-completion-compensate: saga.payment-completion.compensate
